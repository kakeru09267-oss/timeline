<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>個人ハンドアウト - 行動記録</title>
    <style>
        :root {
            --bg-color: #1a1a1a;
            --card-bg: #2d2d2d;
            --accent-color: #e74c3c;
            --text-color: #e0e0e0;
            --text-muted: #aaaaaa;
            --border-color: #444;
        }

        body {
            font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
        }

        header {
            border-bottom: 2px solid var(--accent-color);
            margin-bottom: 30px;
            padding-bottom: 10px;
        }

        h1 {
            font-size: 1.5rem;
            margin: 0;
            letter-spacing: 2px;
        }

        /* 事件概要セクション */
        .incident-box {
            background-color: rgba(231, 76, 60, 0.1);
            border: 1px solid var(--accent-color);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
            font-size: 0.9rem;
        }

        .incident-title {
            color: var(--accent-color);
            font-weight: bold;
            margin-bottom: 5px;
            display: block;
        }

        /* タイムラインセクション */
        .timeline {
            position: relative;
            padding-left: 20px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--border-color);
        }

        .timeline-day {
            background: var(--accent-color);
            color: white;
            padding: 2px 10px;
            font-size: 0.8rem;
            font-weight: bold;
            border-radius: 4px;
            display: inline-block;
            margin-bottom: 15px;
            margin-left: -10px;
            position: relative;
            z-index: 1;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 20px;
            padding-left: 15px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -24px;
            top: 8px;
            width: 10px;
            height: 10px;
            background: var(--bg-color);
            border: 2px solid var(--accent-color);
            border-radius: 50%;
            z-index: 2;
        }

        .time-location {
            font-size: 0.85rem;
            font-weight: bold;
            color: var(--accent-color);
            margin-bottom: 4px;
        }

        .event-card {
            background: var(--card-bg);
            padding: 12px;
            border-radius: 6px;
            position: relative;
            cursor: pointer;
            transition: background 0.2s;
            border: 1px solid transparent;
        }

        .event-card:active {
            background: #3d3d3d;
            border-color: var(--accent-color);
        }

        .event-text {
            font-size: 0.95rem;
            word-wrap: break-word;
        }

        .copy-hint {
            display: block;
            font-size: 0.7rem;
            color: var(--text-muted);
            margin-top: 8px;
            text-align: right;
        }

        /* トースト通知 */
        #toast {
            visibility: hidden;
            min-width: 200px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 4px;
            padding: 10px;
            position: fixed;
            z-index: 100;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            font-size: 0.8rem;
        }

        #toast.show {
            visibility: visible;
            animation: fadein 0.5s, fadeout 0.5s 1.5s;
        }

        @keyframes fadein { from {bottom: 0; opacity: 0;} to {bottom: 30px; opacity: 1;} }
        @keyframes fadeout { from {bottom: 30px; opacity: 1;} to {bottom: 0; opacity: 0;} }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>行動記録：自身のタイムライン</h1>
    </header>

    <div class="incident-box">
        <span class="incident-title">【事件情報】</span>
        死体発見：1月11日 17:30<br>
        死因：絞殺による窒息死<br>
        場所：教室A
    </div>

    <div id="timeline-container" class="timeline">
        <!-- JSで動的に生成されます -->
    </div>
</div>

<div id="toast">コピーしました</div>

<script>
    // ★情報の修正・追記はここを編集してください★
    const timelineData = [
        { type: 'day', label: '1月10日' },
        { time: '15:00', loc: '保健室', desc: '廊下側のベッドで仮眠。' },
        { time: '20:00', loc: '保健室付近', desc: '大きな物音で起床。重たいものが落ちたような音。廊下を確認したが何もなし。自室へ戻る。' },
        { time: '20:30', loc: '廊下', desc: '自室に戻る途中、Aが部屋を出て校舎の方へ行くのを見かけた。' },
        { time: '21:00', loc: '自室', desc: '誰とも会わず、自室に戻り次第就寝。' },
        
        { type: 'day', label: '1月11日' },
        { time: '12:00', loc: '自室', desc: 'Bのノックで起床。「Cを見かけなかったか」と聞かれた。B曰く、昨夜会う予定だったがCが現れず、今朝も応答がないとのこと。' },
        { time: '13:00', loc: '食堂', desc: 'E, F, Gと4人で昼食。' },
        { time: '14:00', loc: '食堂→娯楽室', desc: 'Fと共に昼食を切り上げ、娯楽室へ向かう。' },
        { time: '14:15', loc: '娯楽室', desc: 'H, I, Jと合流。5人でダーツをして遊ぶ。' },
        { time: '17:00', loc: '娯楽室→大浴場', desc: 'ダーツ終了。I, Jと大浴場へ。H, Fはそのまま娯楽室でビリヤード。' },
        { time: '17:30', loc: '大浴場', desc: 'I, Jと3人で1時間入浴。その後30分サウナと水風呂を往復。' },
        { time: '19:00', loc: '脱衣所', desc: '風呂上がり、マッサージチェアを使用。' },
        { time: '20:00', loc: '廊下', desc: 'I, Jと別れて自室へ。' },
        { time: '20:30', loc: '自室', desc: '就寝。' }
    ];

    const container = document.getElementById('timeline-container');

    function renderTimeline() {
        timelineData.forEach(item => {
            if (item.type === 'day') {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'timeline-day';
                dayDiv.innerText = item.label;
                container.appendChild(dayDiv);
            } else {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'timeline-item';
                
                const content = `
                    <div class="time-location">${item.time} | ${item.loc}</div>
                    <div class="event-card" onclick="copyText(this)">
                        <div class="event-text">${item.desc}</div>
                        <span class="copy-hint">タップでコピー</span>
                    </div>
                `;
                itemDiv.innerHTML = content;
                container.appendChild(itemDiv);
            }
        });
    }

    function copyText(element) {
        const text = element.querySelector('.event-text').innerText;
        const timeLoc = element.previousElementSibling.innerText;
        const fullText = `【${timeLoc}】 ${text}`;

        navigator.clipboard.writeText(fullText).then(() => {
            const toast = document.getElementById('toast');
            toast.className = 'show';
            setTimeout(() => { toast.className = toast.className.replace('show', ''); }, 2000);
        });
    }

    renderTimeline();
</script>

</body>
</html>
